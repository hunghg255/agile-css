import t from"rtl-css-js";import e from"vscode-css-languageservice";var i=t=>()=>t,o="default",s=1e6,r=/(.*:)|((\||@|!).*)/g,n=/_/g,a=/-?\d+/g,l=[0,0],c={anim:"animation",animdel:"animation-delay",animdir:"animation-direction",animdur:"animation-duration",animfm:"animation-fill-mode",animic:"animation-iteration-count",animn:"animation-name",animps:"animation-play-state",animtf:"animation-timing-function",ap:"appearance",bd:"border",bdl:"border-left",bdt:"border-top",bdb:"border-bottom",bdr:"border-right",bdc:"border-color",bdtc:"border-top-color",bdbc:"border-bottom-color",bdrc:"border-right-color",bdlc:"border-left-color",bdls:"border-left-style",bdlw:"border-left-width",bdrsbend:"border-bottom-right-radius",bdrsbl:"border-bottom-left-radius",bdrstend:"border-top-right-radius",bdrstl:"border-top-left-radius",bdrw:"border-right-width",bdsp:"border-spacing",bds:"border-style",bdts:"border-top-style",bdbs:"border-bottom-style",bdw:"border-width",bdtw:"border-top-width",bdbw:"border-bottom-width",bdrs:"border-radius",bg:"background",bgi:"background-image",bgc:"background-color",bgcp:"background-clip",bgo:"background-origin",bgz:"background-size",bga:"background-attachment",bgp:"background-position",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat",bdcl:"border-collapse",bxz:"box-sizing",bxsh:"box-shadow",cl:"clear",c:"color",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",ctn:"contain",cnt:"content",cur:"cursor",d:"display",fil:"filter",flx:"flex",flxg:"flex-grow",flxs:"flex-shrink",flxb:"flex-basis",as:"align-self",fld:"flex-direction",flf:"flex-flow",fxf:"flex-flow",ai:"align-items",ac:"align-content",or:"order",jc:"justify-content",flw:"flex-wrap",fxw:"flex-wrap",fl:"float",ff:"font-family",fw:"font-weight",fz:"font-size",fs:"font-style",fv:"font-variant",h:"height",hy:"hyphens",ins:"inset",l:"left",lts:"letter-spacing",list:"list-style-type",lisp:"list-style-position",lisi:"list-style-image",lh:"line-height",m:"margin",mt:"margin-top",mr:"margin-right",mb:"margin-bottom",ml:"margin-left",mah:"max-height",maw:"max-width",mih:"min-height",miw:"min-width",o:"outline",obf:"object-fit",t:"top",b:"bottom",op:"opacity",ov:"overflow",ovx:"overflow-x",ovy:"overflow-y",ovs:"-webkit-overflow-scrolling",p:"padding",pt:"padding-top",pr:"padding-right",pb:"padding-bottom",pl:"padding-left",pe:"pointer-events",pos:"position",rsz:"resize",tbl:"table-layout",ta:"text-align",tal:"text-align-last",td:"text-decoration",ti:"text-indent",tov:"text-overflow",tren:"text-rendering",tr:"text-replace",tt:"text-transform",tsh:"text-shadow",trf:"transform",trfo:"transform-origin",trfs:"transform-style",prs:"perspective",prso:"perspective-origin",bfv:"backface-visibility",trs:"transition",trsde:"transition-delay",trsdu:"transition-duration",trsp:"transition-property",trstf:"transition-timing-function",us:"user-select",va:"vertical-align",v:"visibility",whs:"white-space",whsc:"white-space-collapse",w:"width",wob:"word-break",wow:"word-wrap",z:"z-index",fill:"fill",r:"right",stk:"stroke",stkw:"stroke-width",stklc:"stroke-linecap",stklj:"stroke-linejoin",gtc:"grid-template-columns",gta:"grid-template-areas",gt:"grid-template",gac:"grid-auto-columns",gar:"grid-auto-rows",gaf:"grid-auto-flow",gd:"grid",grs:"grid-row-start",gcs:"grid-column-start",gre:"grid-row-end",gce:"grid-column-end",gr:"grid-row",gc:"grid-column",ga:"grid-area",rg:"row-gap",cg:"column-gap",gp:"gap",maf:"masonry-auto-flow",at:"align-tracks",jt:"justify-tracks",ar:"aspect-ratio",ads:"additive-symbols",ji:"justify-items",js:"justify-self",a:"azimuth",bbm:"background-blend-mode",bl:"bleed",bs:"block-size",bbe:"border-block-end",bbs:"border-block-style",bbec:"border-block-end-color",bbsc:"border-block-start-color",bbes:"border-block-end-style",bbss:"border-block-start-style",bbew:"border-block-end-width",bbsw:"border-block-start-width",bi:"border-inline",bio:"border-image-outset",bir:"border-image-repeat",bis:"border-inline-style",biw:"border-inline-width",bie:"border-inline-end",biec:"border-inline-end-color",bisc:"border-inline-start-color",bies:"border-inline-end-style",biss:"border-inline-start-style",biew:"border-inline-end-width",bisw:"border-inline-start-width",brs:"border-right-style",bodb:"box-decoration-break",ba:"box-align",bb:"border-block",cs:"counter-set",cc:"caret-color",clp:"clip",cp:"clip-path",cr:"counter-reset",cif:"color-interpolation-filters",ci:"counter-increment",dir:"direction",ec:"empty-cells",eb:"enable-background",f:"font",fo:"flood-opacity",fr:"fill-rule",fc:"flood-color",ffs:"font-feature-settings",fk:"font-kerning",flo:"font-language-override",fsa:"font-size-adjust",fsth:"font-smooth",fva:"font-variant-alternates",fvc:"font-variant-caps",fvea:"font-variant-east-asian",fvl:"font-variant-ligatures",fvn:"font-variant-numeric",fvp:"font-variant-position",goh:"glyph-orientation-horizontal",gov:"glyph-orientation-vertical",gcg:"grid-column-gap",gg:"grid-gap",grg:"grid-row-gap",gtr:"grid-template-rows",io:"image-orientation",ir:"image-resolution",im:"ime-mode",is:"input-security",i:"inherits",k:"kerning",lc:"line-clamp",lb:"line-break",ls:"list-style",mbe:"margin-block-end",mbs:"mask-border-source",mie:"margin-inline-end",mis:"min-inline-size",mas:"marks",me:"marker-end",mm:"mask-mode",ms:"math-style",mi:"margin-inline",mo:"-moz-orient",mp:"-ms-perspective",mor:"motion-rotation",mat:"margin-trim",mbm:"mask-border-mode",ma:"-ms-accelerator",mad:"-moz-animation-duration",maic:"-moz-animation-iteration-count",man:"-moz-animation-name",maps:"-moz-animation-play-state",matf:"-moz-animation-timing-function",mbv:"-moz-backface-visibility",mbc:"-moz-background-clip",mbip:"-moz-background-inline-policy",mbo:"mask-border-outset",mbbc:"-moz-border-bottom-colors",mbi:"-moz-border-image",mblc:"-moz-border-left-colors",mbrc:"-moz-border-right-colors",mbtc:"-moz-border-top-colors",mba:"-moz-box-align",mbd:"-moz-box-direction",mbf:"-moz-box-flexgroup",mbog:"-moz-box-ordinal-group",mbp:"-ms-block-progression",mcc:"-moz-column-count",mcg:"-moz-column-gap",mcr:"-moz-column-rule",mcrc:"-moz-column-rule-color",mcrs:"-moz-column-rule-style",mcrw:"-moz-column-rule-width",mc:"mask-composite",mcw:"-moz-column-width",mffs:"-moz-font-feature-settings",mh:"-ms-hyphens",mpo:"-ms-perspective-origin",mtal:"-ms-text-align-last",mtdc:"-moz-text-decoration-color",mtdl:"-moz-text-decoration-line",mtds:"-moz-text-decoration-style",mtsa:"-ms-text-size-adjust",mto:"-ms-transform-origin",mtd:"-moz-transition-duration",mtp:"-moz-transition-property",mttf:"-moz-transition-timing-function",muf:"-moz-user-focus",mus:"-ms-user-select",mab:"mask-border",mczc:"-ms-content-zoom-chaining",mcz:"-ms-content-zooming",mczl:"-ms-content-zoom-limit",mczlm:"-ms-content-zoom-limit-min",mczs:"-ms-content-zoom-snap",mczsp:"-ms-content-zoom-snap-points",mczst:"-ms-content-zoom-snap-type",mf:"-ms-flex",mfa:"-ms-flex-align",mfd:"-ms-flex-direction",mff:"-ms-flow-from",mfia:"-ms-flex-item-align",mflp:"-ms-flex-line-pack",mfo:"-ms-flex-order",mfp:"-ms-flex-pack",mfw:"-ms-flex-wrap",mfi:"-ms-flow-into",mgc:"-ms-grid-columns",mgca:"-ms-grid-column-align",mgcs:"-ms-grid-column-span",mgl:"-ms-grid-layer",mgr:"-ms-grid-rows",mgra:"-ms-grid-row-align",mgrs:"-ms-grid-row-span",mhca:"-ms-high-contrast-adjust",mhlc:"-ms-hyphenate-limit-chars",mhll:"-ms-hyphenate-limit-lines",mhlz:"-ms-hyphenate-limit-zone",mim:"-ms-interpolation-mode",mlg:"-ms-layout-grid",mlgc:"-ms-layout-grid-char",mlgl:"-ms-layout-grid-line",mlgm:"-ms-layout-grid-mode",mlgt:"-ms-layout-grid-type",mlb:"-ms-line-break",mos:"-ms-overflow-style",mpox:"-ms-perspective-origin-x",mpoy:"-ms-perspective-origin-y",mpa:"-ms-progress-appearance",ms3c:"-ms-scrollbar-3dlight-color",msac:"-ms-scrollbar-arrow-color",msbc:"-ms-scrollbar-base-color",msdc:"-ms-scrollbar-darkshadow-color",msfc:"-ms-scrollbar-face-color",mshc:"-ms-scrollbar-highlight-color",mssc:"-ms-scrollbar-shadow-color",mstc:"-ms-scrollbar-track-color",msc:"-ms-scroll-chaining",msl:"-ms-scroll-limit",mslxm:"-ms-scroll-limit-x-min",mslym:"-ms-scroll-limit-y-min",msr:"-ms-scroll-rails",msspx:"-ms-scroll-snap-points-x",msspy:"-ms-scroll-snap-points-y",msst:"-ms-scroll-snap-type",mssx:"-ms-scroll-snap-x",mssy:"-ms-scroll-snap-y",mst:"-ms-scroll-translation",mta:"-ms-touch-action",mtch:"-ms-text-combine-horizontal",mtj:"-ms-text-justify",mtks:"-ms-text-kashida-space",mtup:"-ms-text-underline-position",mts:"-ms-touch-select",mtox:"-ms-transform-origin-x",mtoy:"-ms-transform-origin-y",mtoz:"-ms-transform-origin-z",mwb:"-ms-word-break",mww:"-ms-word-wrap",mwf:"-ms-wrap-flow",mwm:"-ms-writing-mode",mwt:"-ms-wrap-through",mz:"min-zoom",mza:"-ms-zoom-animation",nd:"nav-down",ni:"nav-index",nl:"nav-left",nr:"nav-right",nu:"nav-up",n:"negative",oa:"overflow-anchor",oad:"-o-animation-duration",oafm:"-o-animation-fill-mode",oaic:"-o-animation-iteration-count",oan:"-o-animation-name",oaps:"-o-animation-play-state",oatf:"-o-animation-timing-function",ofp:"offset-position",obi:"overscroll-behavior-inline",oof:"-o-object-fit",oop:"-o-object-position",ori:"orientation",otb:"-o-table-baseline",ots:"-o-tab-size",oto:"-o-transform-origin",ot:"-o-transition",otd:"-o-transition-duration",otp:"-o-transition-property",ottf:"-o-transition-timing-function",obe:"offset-block-end",obs:"offset-block-start",oie:"offset-inline-end",ois:"offset-inline-start",oc:"outline-color",oo:"outline-offset",os:"outline-style",ow:"overflow-wrap",prx:"prefix",pbe:"padding-block-end",pbs:"padding-block-start",pie:"padding-inline-end",pis:"padding-inline-start",pba:"page-break-after",pbb:"page-break-before",pbi:"page-break-inside",po:"paint-order",q:"quotes",rot:"rotate",ra:"ruby-align",ro:"ruby-overhang",rp:"ruby-position",rs:"ruby-span",s3c:"scrollbar-3dlight-color",sac:"scrollbar-arrow-color",sbc:"scrollbar-base-color",sdc:"scrollbar-darkshadow-color",sfc:"scrollbar-face-color",shc:"scrollbar-highlight-color",ssc:"scroll-snap-coordinate",stc:"scrollbar-track-color",sb:"scroll-behavior",ssd:"scroll-snap-destination",sspx:"scroll-snap-points-x",sspy:"scroll-snap-points-y",sst:"scroll-snap-type",sit:"shape-image-threshold",sm:"scroll-margin",so:"stroke-opacity",sr:"shape-rendering",s:"syntax",sc:"scrollbar-color",sd:"stroke-dashoffset",ts:"tab-size",toa:"touch-action",tdc:"text-decoration-color",tdl:"text-decoration-line",tds:"text-decoration-skip",tj:"text-justify",to:"text-orientation",tup:"text-underline-position",ub:"unicode-bidi",ur:"unicode-range",wa:"-webkit-appearance",wad:"-webkit-animation-duration",wafm:"-webkit-animation-fill-mode",waic:"-webkit-animation-iteration-count",wan:"-webkit-animation-name",waps:"-webkit-animation-play-state",watf:"-webkit-animation-timing-function",wbf:"-webkit-box-flex",wbv:"-webkit-backface-visibility",wbc:"-webkit-background-composite",wbo:"-webkit-box-orient",wbi:"-webkit-break-inside",wba:"-webkit-break-after",wbd:"-webkit-box-direction",wbfg:"-webkit-box-flex-group",wbog:"-webkit-box-ordinal-group",wbp:"-webkit-box-pack",wbr:"-webkit-box-reflect",wbs:"-webkit-box-sizing",wbb:"-webkit-border-before",wcba:"-webkit-column-break-after",wcbb:"-webkit-column-break-before",wcbi:"-webkit-column-break-inside",wcc:"-webkit-column-count",wcg:"-webkit-column-gap",wcr:"-webkit-column-rule",wcrc:"-webkit-column-rule-color",wcrs:"-webkit-column-rule-style",wcrw:"-webkit-column-rule-width",wc:"will-change",wcs:"-webkit-column-span",wcw:"-webkit-column-width",wf:"-webkit-filter",wff:"-webkit-flow-from",wfi:"-webkit-flow-into",wffs:"-webkit-font-feature-settings",wh:"-webkit-hyphens",wlb:"-webkit-line-break",wmbc:"-webkit-margin-bottom-collapse",wmc:"-webkit-mask-composite",wms:"-webkit-mask-size",wmtc:"-webkit-margin-top-collapse",wmi:"-webkit-mask-image",wmo:"-webkit-mask-origin",wmr:"-webkit-mask-repeat",wnm:"-webkit-nbsp-mode",wps:"-webkit-padding-start",wp:"-webkit-perspective",wpo:"-webkit-perspective-origin",wrf:"-webkit-region-fragment",wthc:"-webkit-tap-highlight-color",wtfc:"-webkit-text-fill-color",wtsa:"-webkit-text-size-adjust",wts:"-webkit-transform-style",wtsc:"-webkit-text-stroke-color",wtsw:"-webkit-text-stroke-width",wtc:"-webkit-touch-callout",wt:"-webkit-transition",wto:"-webkit-transform-origin",wtox:"-webkit-transform-origin-x",wtoy:"-webkit-transform-origin-y",wtoz:"-webkit-transform-origin-z",wtd:"-webkit-transition-duration",wtp:"-webkit-transition-property",wttf:"-webkit-transition-timing-function",wud:"-webkit-user-drag",wum:"-webkit-user-modify",wus:"-webkit-user-select",wi:"widows",ws:"word-spacing",wm:"-webkit-mask",zm:"zoom",mia:"-ms-ime-align",mcp:"-moz-context-properties",mfe:"-moz-float-edge",mfbii:"-moz-force-broken-image-icon",mir:"-moz-image-region",mors:"-moz-outline-radius",morb:"-moz-outline-radius-bottomright",mort:"-moz-outline-radius-topright",mss:"-moz-stack-sizing",mtb:"-moz-text-blink",mui:"-moz-user-input",mum:"-moz-user-modify",mwd:"-moz-window-dragging",mws:"-moz-window-shadow",wbbc:"-webkit-border-before-color",wbbs:"-webkit-border-before-style",wbbw:"-webkit-border-before-width",wlc:"-webkit-line-clamp",wma:"-webkit-mask-attachment",wmp:"-webkit-mask-position",wmpx:"-webkit-mask-position-x",wmpy:"-webkit-mask-position-y",wmrx:"-webkit-mask-repeat-x",wmry:"-webkit-mask-repeat-y",acc:"accent-color",animt:"animation-timeline",bf:"box-flex",bbc:"border-block-color",bbw:"border-block-width",beer:"border-end-end-radius",besr:"border-end-start-radius",bic:"border-inline-color",bser:"border-start-end-radius",bssr:"border-start-start-radius",bod:"box-direction",bfg:"box-flex-group",bol:"box-lines",bog:"box-ordinal-group",bo:"box-orient",bp:"box-pack",pca:"print-color-adjust",cv:"content-visibility",fos:"font-optical-sizing",fvs:"font-variation-settings",fca:"forced-color-adjust",hp:"hanging-punctuation",hc:"hyphenate-character",il:"initial-letter",ila:"initial-letter-align",ib:"inset-block",ibe:"inset-block-end",ibs:"inset-block-start",ii:"inset-inline",iie:"inset-inline-end",iis:"inset-inline-start",lhs:"line-height-step",mbr:"mask-border-repeat",mbw:"mask-border-width",mal:"max-lines",od:"offset-distance",ofr:"offset-rotate",ob:"overscroll-behavior",ocb:"overflow-clip-box",ocm:"overflow-clip-margin",oi:"overflow-inline",obb:"overscroll-behavior-block",obx:"overscroll-behavior-x",oby:"overscroll-behavior-y",pab:"padding-block",pi:"place-items",pc:"place-content",ps:"place-self",rm:"ruby-merge",sg:"scrollbar-gutter",sw:"scrollbar-width",smb:"scroll-margin-bottom",smbs:"scroll-margin-block-start",smbe:"scroll-margin-block-end",smi:"scroll-margin-inline",smis:"scroll-margin-inline-start",smie:"scroll-margin-inline-end",sml:"scroll-margin-left",smr:"scroll-margin-right",smt:"scroll-margin-top",sp:"scroll-padding",spb:"scroll-padding-bottom",spbs:"scroll-padding-block-start",spbe:"scroll-padding-block-end",spi:"scroll-padding-inline",spis:"scroll-padding-inline-start",spie:"scroll-padding-inline-end",spl:"scroll-padding-left",spr:"scroll-padding-right",spt:"scroll-padding-top",ssa:"scroll-snap-align",sss:"scroll-snap-stop",sstx:"scroll-snap-type-x",ssty:"scroll-snap-type-y",tcu:"text-combine-upright",tdsi:"text-decoration-skip-ink",tdt:"text-decoration-thickness",te:"text-emphasis",tec:"text-emphasis-color",tep:"text-emphasis-position",tes:"text-emphasis-style",tsa:"text-size-adjust",tuo:"text-underline-offset",tb:"transform-box",trl:"translate",sa:"size-adjust",ao:"ascent-override",do:"descent-override",fd:"font-display",lgo:"line-gap-override",iv:"initial-value",uz:"user-zoom",vf:"viewport-fit"},m={af:"after",be:"before",fl:"first-letter",fli:"first-line",ph:"placeholder",a:"active",c:"checked",d:"default",di:"disabled",e:"empty",en:"enabled",fi:"first",fc:"first-child",fot:"first-of-type",fs:"fullscreen",f:"focus",fw:"focus-within",fv:"focus-visible",h:"hover",ind:"indeterminate",ir:"in-range",inv:"invalid",lc:"last-child",lot:"last-of-type",l:"left",li:"link",oc:"only-child",oot:"only-of-type",o:"optional",oor:"out-of-range",ps:"placeholder-shown",ro:"read-only",rw:"read-write",req:"required",r:"right",rt:"root",s:"scope",t:"target",va:"valid",vi:"visited",sl:"slotted",fil:"first-line",cp:"corner-present",sb:"single-button",nc:"nth-col",onot:"only-of-type",mal:"-moz-any-link",mb:"-ms-browse",mdo:"-moz-drag-over",mfn:"-moz-first-node",mf:"-ms-fill",mfs:"-moz-full-screen",mln:"-moz-list-number",mow:"-moz-only-whitespace",mp:"-moz-placeholder",msi:"-moz-submit-invalid",ms:"-moz-selection",mui:"-moz-ui-invalid",muv:"-moz-ui-valid",mud:"-moz-user-disabled",mwi:"-moz-window-inactive",mip:"-ms-input-placeholder",mka:"-ms-keyboard-active",nlc:"nth-last-col",ouor:"out-of-range",reo:"read-only",tw:"target-within",wfs:"-webkit-full-screen",ui:"user-invalid",uv:"user-valid",pls:"placeholder-shown",pip:"picture-in-picture",mfi:"-moz-focus-inner",mfo:"-moz-focus-outer",mlb:"-moz-list-bullet",mpb:"-moz-progress-bar",mc:"-ms-clear",me:"-ms-expand",mfl:"-ms-fill-lower",mfu:"-ms-fill-upper",mr:"-ms-reveal",mt:"-ms-track",mta:"-ms-ticks-after",mtb:"-ms-ticks-before",mv:"-ms-value",wfub:"-webkit-file-upload-button",wisb:"-webkit-inner-spin-button",wip:"-webkit-input-placeholder",wks:"-webkit-keygen-select",wmb:"-webkit-meter-bar",wmelgv:"-webkit-meter-even-less-good-value",wmov:"-webkit-meter-optimum-value",wmsv:"-webkit-meter-suboptimum-value",wosb:"-webkit-outer-spin-button",wpb:"-webkit-progress-bar",wpie:"-webkit-progress-inner-element",wpv:"-webkit-progress-value",wr:"-webkit-resizer",ws:"-webkit-scrollbar",wsb:"-webkit-scrollbar-button",wsc:"-webkit-scrollbar-corner",wst:"-webkit-slider-thumb",wstp:"-webkit-scrollbar-track-piece",wscb:"-webkit-search-cancel-button",wsd:"-webkit-search-decoration",wsrb:"-webkit-search-results-button",wsrd:"-webkit-search-results-decoration",wsrt:"-webkit-slider-runnable-track",wtdc:"-webkit-textfield-decoration-container",wvb:"-webkit-validation-bubble",wvba:"-webkit-validation-bubble-arrow",wvbac:"-webkit-validation-bubble-arrow-clipper",wvbh:"-webkit-validation-bubble-heading",wvbm:"-webkit-validation-bubble-message",wvbtb:"-webkit-validation-bubble-text-block",tt:"target-text",mrp:"-moz-range-progress",mrt:"-moz-range-track",wpiv:"-webkit-progress-inner-value",se:"spelling-error",nch:"nth-child",nlch:"nth-last-child",nlot:"nth-last-of-type",ntot:"nth-of-type"},b=t=>{let e=Object.keys(t),i=Object.values(t);if(2!==e.length)throw new Error("cssLinearInterpolation() value must be exactly 2 values");let o=(i[1]-i[0])/(Number(e[1])-Number(e[0])),s=i[0]-o*Number(e[0]),r="+";return s<0&&(r="-",s=Math.abs(s)),100*o+"vw "+r+" "+s+"px"},d=(t,e)=>Object.entries(t).reduce((function(t,i){let o,s=i[0],r=i[1];return Object.assign({},t,(o={},o[s]=Object.entries(r).reduce((function(t,i){let o=i[0],s=i[1];return Object.assign({},t,e(o,s))}),{}),o))}),{}),p=(t,e)=>{let i=t,o=e;return i||(i=400),o||(o=1200),function(t){let e=t.styles;(0,t.addStyles)(d(e,(function(t,e){let s,r=e[0],n=e[1];if(/pfs\(.*\)/g.test(n)){let e,s,c,m,d=null!=(e=null==(s=n.match(a))?void 0:s.map(Number))?e:l,p=d[0],g=d[1],u="clamp("+p+"px, "+b((c={},c[i]=p,c[o]=g,c))+", "+g+"px)";return m={},m[t]=[r,u],m}return s={},s[t]=e,s})))}},g=t=>t.replace(/\|/g,"\\|").replace(/,/g,"\\,").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\?/g,"\\?").replace(/\{/g,"\\{").replace(/\}/g,"\\}").replace(/\//g,"\\/").replace(/\.\w*:/g,(function(t){return t.replace(/:/g,"\\:")})).replace(/;/g,"\\;").replace(/@/g,"\\@").replace(/#/g,"\\#").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/%/g,"\\%").replace(/\+/g,"\\+").replace(/>/g,"\\>").replace(/!/g,"\\!").replace(/`/g,"\\`").replace(/\.\d/g,(function(t){return"\\"+t})).replace(/\^/g,"\\^").replace(/(-child|-type|:lang)\\\([\w-+\\]*\\\)/g,(function(t){let e=t.replace(/.*\\\(|\\\)/g,"").replace(/_|\\/g," ");return t.replace(/\\\(.*/g,"("+e+")")})),u=t=>/translateX/g.test(t)?t.replace(/calc\(/,"calc(-1 * (").replace(/\)$/g,"))").replace(/\)\s*!important/g,")) !important"):/translate\(/g.test(t)?t.replace(/calc\(/,"calc(-1 * (").replace(/\),/g,")),"):t,f=()=>function(e){let i=e.styles,o=e.addStyles,s=e.addBase;o(d(i,(function(e,i){let o,r,n=i[0],a=i[1],l=Object.entries(t((o={},o[n]=a,o)))[0],c=l[0],m=l[1],b=e.includes("[dir=rtl] ")?"":"[dir=rtl] ";if(c!==n){let t;return s(g(""+b+e)+" { "+n+": initial }"),t={},t[e]=i,t[""+b+e]=[c,a],t}if(m!==a){let t;return t={},t[e]=i,t[""+b+e]=[n,m],t}if(/translate(\(calc|X\(calc)/g.test(a)){let t;return t={},t[e]=i,t[""+b+e]=[n,u(a)],t}return r={},r[e]=i,r})))},w=t=>({styles:e,addStyles:i})=>{i(d(e,((e,i)=>{const[o,s]=i;if(/[\d.]*px/g.test(s)){return{[e]:[o,s.replace(/[\d.]*px/g,(e=>62.5*Number(e.replace("px",""))/t/10+"rem"))]}}return{[e]:i}})))},h=t=>{const i=e.getCSSLanguageService(),o=(s=t,e.TextDocument.create("untitled://untitled","css",1,s));var s;const r=i.parseStylesheet(o);return i.doValidation(o,r)},k=(t,e)=>{if(e.includes("@")){let i;const o=e.includes("@+");let s=e.replace(/.*@\+?|!/g,"");const r=t.breakpoints[s];s=r||s;const n=Number(null!=(i=s.replace(/\D/g,""))?i:"0"),a=s.replace(/.*\d+/g,"");return o?""+(n-(r?1:0))+a:s}return o},v=t=>t.replace(/^("|'|`|\s)/g,""),y=t=>{let e,i,o;const s=v(t);return null!=(null==(e=s.match(/\(|\)/g))?void 0:e.length)&&(null!=(i=null==(o=s.match(/\(|\)/g))?void 0:o.length)?i:0)%2!=0},x=t=>Array.from(new Set(t)),z=(t,e,i)=>{const o=Object.keys(i).reduce((function(i,o){const s=new RegExp("(\"|'|`|\\s)"+o+":(\\w|\\/|\\||\\.|\\+|\\*|\\(|\\)|\\!|%|@|#|,|;|-)*","g");return[].concat(i,(t.match(s)||[]).reduce((function(t,i){if(y(i))return t;let o=v(i);return e.exclude.includes(o)||!/:./g.test(o)?t:[].concat(t,[o])}),[]))}),[]);return x([].concat(o,e.defaultClassNames))},j=t=>/!/g.test(t)?" !important":"",C=t=>{const e=t.match(/\|\w*(\([\w-+]*\)|)/g);return e?e.reduce((function(t,e){const i=e.replace(/^\||\(.*\)/g,""),o=e.replace(/.*\(|\)|[\|\w-]*$/g,""),s=m[i]||i;return o?t+":"+s+"("+o+")":t+":"+s}),""):""},N=t=>/content:\s+\(.*\)/g.test(t)?t.replace(/\(|\)/g,"'"):t,S=(t,e)=>N("{ "+t+": "+e+" }"),O=(t,e)=>e.replace(r,"").replace(n," ").split(" ").reduce((function(e,i){let o;return e+" "+((null==(o=t.custom[i])?void 0:o.toString())||i)}),"").trim(),_=t=>t.replace(/@agilecss-ignore.*\n.*/g,""),P=t=>Object.entries(t).reduce((function(t,e){const i=e[0],o=e[1];if(!Array.isArray(o))return t;const s=S.apply(void 0,o);return t+"\n"+g(i).replace(/\s+/g," ")+" "+s}),""),A=new class{constructor(){this.id=0,this.events={}}on(t,e){let i;return this.id++,this.events=Object.assign({},this.events,(i={},i[t]=[].concat(this.events[t]||[],[{listener:e,id:this.id}]),i)),this.id}off(t){for(let e in this.events){let i;this.events=Object.assign({},this.events,(i={},i[e]=this.events[e].filter((function(e){return e.id!==t})),i))}}emit(t,e){this.events[t]&&this.events[t].forEach((function(t){(0,t.listener)(e)}))}},M=class{constructor(){this.defaultConfig={breakpoints:{sm:"768px",md:"992px",lg:"1200px"},custom:{},cache:!0,parentSelector:"",defaultCss:"",exclude:[],defaultClassNames:[]},this.classNames=[],this.styles={},this.config=this.defaultConfig,this.cache=[],this._customValue=function(t){return t},this.cssProps=c,this.pseudo=m,this.valid=new Set,this.value="",this.prevInput=""}handlePluginAddStyles(t){this.styles=Object.assign({},this.styles,t)}handlePluginAddBase(t){this.config.defaultCss.includes(t)||(this.config.defaultCss=this.config.defaultCss+"\n"+t)}handlePluginAddComponent(t){this.handlePluginAddBase(t)}plugins(t){let e=this;A.on("plugin",(function(){t.length&&t.forEach((function(t){t({config:e.config,cssProps:e.cssProps,pseudo:e.pseudo,styles:e.styles,input:e.value,prevInput:e.prevInput,addStyles:e.handlePluginAddStyles.bind(e),addBase:e.handlePluginAddBase.bind(e),addComponent:e.handlePluginAddComponent.bind(e)})}))}))}on(t,e){return A.on(t,e)}off(t){A.off(t)}_setClassNames(){const t=_(this.value),e=z(t,this.config,this.cssProps);this.classNames=x([].concat(this.classNames,e))}_isMediaMaxWidth(t){return t.replace(/\\/g,"").includes("@+")}_checkValidate(t,e,i){let s,r;const n=k(this.config,e),a=this.config.breakpoints[n]||n,l=this._isMediaMaxWidth(e),c=g(e);let m=c+" "+i;if(a!==o&&(m="@media ("+(l?"max":"min")+"-width:"+a+") { "+c+" "+i+" }"),this.valid.has(m))return!1;const b=null===(s=(r=this.config).validator)?void 0:s.call(r,m);return null!==b&&b.length?(A.emit("invalid",{message:b[0].message,className:t}),this.classNames=this.classNames.filter((function(e){return e!==t})),!0):(A.emit("valid",{message:"Compiled successfully",className:t}),this.valid.add(m),!1)}_setStyles(){const t=this;this.styles=this.classNames.reduce((function(e,i){let o,s;const r=i.replace(/:.*/g,""),n=t.cssProps[r],a=k(t.config,i),l=j(i),c=""+t._customValue(O(t.config,i))+l,m=t.config.parentSelector?t.config.parentSelector+" ":"";if(!n||!i.includes(":")||!c)return e;const b=m+"."+(i.includes("|")?""+i+C(i):i),d=S(n,c);return t._checkValidate(i,b,d)?e:Object.assign({},e,(s={},s[a]=Object.assign({},e[a],(o={},o[b]=[n,N(c)],o)),s))}),{}),A.emit("plugin",void 0)}_setCache(){this.cache.push(this.value);const t=this.cache.length;t>s&&(this.cache=this.cache.slice(t-s,t))}find(t){return this.value=t,this.config.cache?this.cache.includes(t)||(this._setClassNames(),this._setStyles(),this._setCache()):(this._setClassNames(),this._setStyles()),this.prevInput=t,A.emit("success",this.getCss()),this}setConfig(t){return t||(t={}),this.config=Object.assign({},this.defaultConfig,t),this}setClassNames(t){return this.classNames=[].concat(this.classNames,t),this._setStyles(),A.emit("success",this.getCss()),this}getCss(){let t=this,e=Object.entries(this.styles).reduce((function(e,i){let s=i[0],r=i[1]??{};const n=t.config.breakpoints[s]||s,a=Object.keys(r)[0],l=t._isMediaMaxWidth(a),c=P(r);return n===o?e+"\n"+c:e+"\n@media ("+(l?"max":"min")+"-width:"+n+") { "+c+" }"}),"");return(this.config.defaultCss+"\n"+e).replace(/\n+/g,"\n")}getClassNames(){return this.classNames}reset(){return this.classNames=[],this.styles={},this.cache=[],this.valid=new Set,this}customValue(t){this._customValue=t}addPropsSyntax(t){this.cssProps=Object.assign({},this.cssProps,t)}addPseudoSyntax(t){this.pseudo=Object.assign({},this.pseudo,t)}};export{M as default,i as defineConfig,p as pfs,w as pixelToRem,f as rtl,h as validator};